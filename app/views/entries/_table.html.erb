<div class="tab-bar">
<%= link_to 'TSV',  params.merge(controller: :dictionaries, action: :show, format: :tsv),  :class => 'tab' -%>
&nbsp;
<%= link_to('Show all', dictionary_path(@dictionary), class: 'button') if params[:label_search] || params[:id_search] -%>
</div>
<table class="entries">
  <thead>
    <tr>
      <th class="label">
        Label
        <%= form_tag '', method: :get, :style=>'display:inline-block' do -%>
  	      <%= text_field_tag :label_search, params[:label_search], required: true -%>
    	    <%= submit_tag 'Search', class: 'button' -%>
    	  <% end -%>
      </th>
      <th class="identifier">
        Id
        <%= form_tag '', method: :get, :style=>'display:inline-block' do -%>
        	<%= text_field_tag :id_search, params[:id_search], required: true -%>
        	<%= submit_tag 'Search', class: 'button' -%>
    	  <% end -%>
      </th>
      <% if @dictionary.editable?(current_user) %>
        <th class="button_column"></th>
      <% end %>
    </tr>
  </thead>
  <%= render partial: "entries/entry", collection: @entries -%>

  <% if @dictionary.editable?(current_user) %>
    <%= form_tag(dictionary_entries_path(@dictionary), method: :post, id: "add_entry_form") do %>
      <tr>
        <td>
          <%= text_field_tag :label, nil, required: true, style: "width:90%" -%>
        </td>
        <td>
          <%= text_field_tag :identifier, nil, required: true, style: "width:90%" -%>
        </td>
        <td style="text-align:center">
          <a title="add" href="javascript:{}" onclick="document.getElementById('add_entry_form').submit(); return false;"><i class="fa fa-plus-square" aria-hidden="true"></i></a>
        </td>
      </tr>
    <% end %>
  <% end %>  
</table>

<div class="table-control">
<% if @labels.present? %>
  <%= paginate @labels %>
<% elsif @identifier.present? %>
<% elsif @entries.present? %>
  <%= paginate @entries %>
<% end %>
</div>