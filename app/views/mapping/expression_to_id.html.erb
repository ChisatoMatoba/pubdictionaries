<div id="dialog" style="display:none">
  <%= render partial: 'dictionaries/add_search_target_dictionary', collection: @dictionaries -%>
</div>
<span id="open_dictionaries" class="customized_button">Select dictionaries</span>

<!-- Seach from -->
<%= form_tag '', method: :get, id: 'SearchExpression' do -%>
  <!-- Dictionaries -->
  <fieldset id='search_target_dictionaries' style='margin: 0.5em 0'>
    Filter by dictionaries<br />
    <%= render partial: 'dictionaries/search_target_dictionary', collection: @search_target_dictionaries, locals: {self_render: true} -%>
  </fieldset>

  <%= label_tag :output -%>
  <%= select_tag :output, options_for_select([['Id', 'id'], ['Full', 'full']], params[:output]) -%>
  <br />

  <%= label_tag :fuzziness -%>
  <%= select_tag :fuzziness, options_for_select(%w(0 1 2), params[:fuzziness] ||= 2) -%>

  <!-- Copy to clipboard -->
  <%= render partial: 'rest_service_url' -%>

  <%= label_tag :terms -%>
  <%= text_field_tag :terms, params[:terms] -%>
  <br />

  <div style='margin:1em 0'>
    <%= submit_tag 'Search' -%>
    <%= submit_tag 'Clear', type: 'reset', id: 'reset' -%>
  </div>
<% end -%>

<!-- Search results -->
<%= render partial: 'expressions_uris/expressions_uri', collection: @expressions_uris -%>
<br />
<!-- REST API -->
<script>
  $(document).ready(function() {
    $("#dialog").hide();
    $("#dialog").dialog({
      autoOpen: false,
      modal: true,
      resizable: true,
    });
    $("#open_dictionaries").click(function() {
        $("#dialog").attr("style", "display:block");
        $( "#dialog" ).dialog( "open" );
        return false;
    }); 
  });
</script>
